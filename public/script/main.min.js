function onExecuteSearch(e,t){var n=e.value;n&&getResults(n,function(e){var n=getResultsList(e),s=document.getElementById("results");s&&t.removeChild(s),t.appendChild(n)})}function getResults(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var e;try{e=JSON.parse(this.responseText),t(e)}catch(e){t([])}}},n.open("GET","/search?q="+encodeURIComponent(e)),n.send()}function getResultsList(e){var t=elem("div",{class:"container",id:"results"});if(t.appendChild(elem("h2",{class:"hidden",text:"Results"})),0===e.length)return t.appendChild(elem("p",{class:"no-results-message",text:"No results found"})),t;var n=elem("ul",{class:"project-list"});return e.forEach(function(e){var t=elem("li",{class:"project"});t.appendChild(elem("a",{class:"project-name",text:e.name,href:e.projectUrl}));var s=elem("ul",{class:"project-info"});s.appendChild(projectInfoElem("project-tags","Tags",e.tags.join(", "))),s.appendChild(projectInfoElem("project-platform","Platform",e.platform)),s.appendChild(projectInfoElem("project-license","License",e.license)),s.appendChild(projectInfoElem("project-source","Source",e.sourceHost,e.sourceUrl)),t.appendChild(s),t.appendChild(elem("p",{class:"project-description",text:e.description})),n.appendChild(t)}),t.appendChild(n),t}function projectInfoElem(e,t,n,s){var a=elem("li",{class:e}),r=elem("span",{class:"info-title",text:t});a.appendChild(r);var l=s?elem("a",{class:"info-value",text:n,href:s}):elem("span",{class:"info-value",text:n});return a.appendChild(l),a}function elem(e,t){var n=document.createElement(e);return t.class&&(n.classList=t.class),t.id&&(n.id=t.id),t.text&&(n.textContent=t.text),t.href&&n.setAttribute("href",t.href),n}var searchInput=document.getElementById("search-input"),searchForm=searchInput.parentElement,mainContentArea=document.getElementById("content");searchInput&&searchForm&&mainContentArea&&(searchInput.focus(),searchForm.classList+=" minimal",addEventListener("keyup",function(){onExecuteSearch(searchInput,mainContentArea)}));