function onExecuteSearch(e,t){var n=e.value;n&&getResults(n,function(e){var n=getResultsList(e),a=document.getElementById("results");a&&t.removeChild(a),t.appendChild(n)})}function getResults(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var e;try{e=JSON.parse(this.responseText),t(e)}catch(e){t([])}}},n.open("GET","/search?q="+encodeURIComponent(e)),n.send()}function getResultsList(e){var t=elem("div",{class:"container",id:"results"});if(t.appendChild(elem("h2",{class:"hidden",text:"Results"})),0===e.length)return t.appendChild(elem("p",{class:"no-results-message",text:"No results found"})),t;var n=elem("ul",{class:"project-list"});return e.forEach(function(e){var t=elem("li",{class:"project"});t.appendChild(elem("a",{class:"project-name",text:e.name,href:e.projectUrl}));var a=elem("ul",{class:"project-info"});a.appendChild(projectInfoElem("project-tags","Tags",e.tags.join(", "))),a.appendChild(projectInfoElem("project-author","Author",e.author,e.authorUrl)),a.appendChild(projectInfoElem("project-platform","Platform",e.platform)),a.appendChild(projectInfoElem("project-license","License",e.license)),a.appendChild(projectInfoElem("project-source","Source",e.sourceHost,e.sourceUrl)),t.appendChild(a),t.appendChild(elem("p",{class:"project-description",text:e.description})),n.appendChild(t)}),t.appendChild(n),t}function projectInfoElem(e,t,n,a){var r=elem("li",{class:e}),s=elem("span",{class:"info-title",text:t});r.appendChild(s);var l=a?elem("a",{class:"info-value",text:n,href:a}):elem("span",{class:"info-value",text:n});return r.appendChild(l),r}function elem(e,t){var n=document.createElement(e);return t.class&&(n.className=t.class),t.id&&(n.id=t.id),t.text&&(n.textContent=t.text),t.href&&n.setAttribute("href",t.href),n}function getRandomElement(e){return e[Math.floor(Math.random()*e.length)]}var searchInput=document.getElementById("search-input"),searchForm=searchInput.parentElement,mainContentArea=document.getElementById("content");searchInput&&searchForm&&mainContentArea&&(searchInput.focus(),searchForm.className+=" minimal",searchInput.addEventListener("keyup",function(){onExecuteSearch(searchInput,mainContentArea)}));var suggestedSearchTerms=["learning management system","student information system","digital signage","library"];searchInput.setAttribute("placeholder","Search for "+getRandomElement(suggestedSearchTerms)+"...");